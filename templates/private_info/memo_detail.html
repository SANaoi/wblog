{% extends "base.html" %}
{% load static %}
{% block title %}
é€šè®¯å½•è¯¦ç»†
{% endblock title %}
<!-- å†™å…¥ base.html ä¸­å®šä¹‰çš„ content -->
{% block content %}

<body class="bg-light">

<div class="container">
    <main>
        <div class="py-5 text-center">
          {% if contact.avatar %}
          <img src="{{ contact.avatar.url }}" alt="avatar" height = 200  class="rounded-circle border border-white">
          {% else %}
            <img class="d-block mx-auto mb-4" src="../../static/back_top.png"alt="" >
          {% endif %}
        </div>
        <div class="col-md-12 col-lg-12">
        <h4 class="mb-3">é€šè®¯å½•</h4>
        <form class="needs-validation" novalidate
                method="post" 
                action="{% url 'private_info:memo_updata' contact.id %}"
                enctype="multipart/form-data">
        
                {% csrf_token %}
                
            <div class="col-12">
                <label for="event" class="form-label">å§“å</label>
                <div class="input-group has-validation">
                  <span class="input-group-text">ğŸ“ƒ</span>
                  <input type="text" class="form-control" id="event" name="event" value={{ contact.event }} placeholder="event" required>
                <div class="invalid-feedback">
                    Your event is required.
                  </div>
                </div>
            </div>

            <div class="col-12">
                <label for="time" class="form-label">æ—¶é—´</label>
                <div class="input-group has-validation">
                  <span class="input-group-text">ğŸ•’</span>
                  <input type="datetime-local" class="form-control" id="time" name="time" value={{ contact.default_datetime }} placeholder="time" required>

                <div class="invalid-feedback">
                    this type is required.
                  </div>
                </div>
            </div>

            <div class="col-12">
                <label for="location" class="form-label">åœ°ç‚¹</label>
                <div class="input-group has-validation">
                  <span class="input-group-text">ğŸš—</span>
                  <input type="text" class="form-control" id="location" name="location" value={{ contact.location }} placeholder="location" required>
                <div class="invalid-feedback">
                    this type is required.
                  </div>
                </div>
            </div>
            


            <div class="col-md-5">
              
              <div class="invalid-feedback">
                Please select a valid country.
              </div>
            </div>
          </div>
          

          <hr class="my-4">

          <button class="w-100 btn btn-primary btn-lg" type="submit">Continue to checkout</button>
        </form>
        <div>
          <br>
        </div>
        <button type="button" class="btn btn-danger"  onclick="contact_delete()" >åˆ æ‰å®ƒï¼</button>
        <form
                    style="display:none;"
                    id = "contact_delete"
                    action="{% url 'private_info:memo_delete' contact.id %}"
                    method="POST"
                >
                {% csrf_token %}
                    <button type="submit">å‘é€</button>
                </form>
        <script>
          function contact_delete(){
            // è°ƒç”¨layerå¼¹çª—ç»„ä»¶
            layer.open({
              title: "ç¡®è®¤åˆ é™¤",
              content: "ç¡®è®¤åˆ é™¤ç”¨æˆ·èµ„æ–™å—ï¼Ÿ",
              yes: function(index, layero) {
                $('form#contact_delete button').click();
                layer.close(index);
              },
            })
          }
        </script>
      </div>
    </main>
</div>
    
</body>

{% endblock %}